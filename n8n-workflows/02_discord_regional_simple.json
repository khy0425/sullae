{
  "name": "ìˆ ë˜ - Discord ì§€ì—­ë³„ ì•Œë¦¼ (HTTP)",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "meeting-regional",
        "options": {}
      },
      "id": "webhook-1",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [250, 300],
      "webhookId": "meeting-regional"
    },
    {
      "parameters": {
        "jsCode": "// ì§€ì—­ë³„ ì›¹í›… URL ë§¤í•‘\nconst webhooks = {\n  'ê°•ë‚¨': 'https://discord.com/api/webhooks/1324349970610118747/gG-4A5_87mT-GUBiC0u-p-LFJMfj_DTBG8F3XiJuNKNlKqbPGTuEvR3aE09kMTKZepx4',\n  'ì„œì´ˆ': 'https://discord.com/api/webhooks/1324350054114607154/R10vr2VaDlNzBM2Ey0r2-_z0aTTdWdJJH_OU2EYLQaOFqbsK5FRt2b58QUyxMPJUPd6_',\n  'ë§ˆí¬': 'https://discord.com/api/webhooks/1324350101044711457/L5VILc7hN-N-Cj-f5e2oGODujy_YiPsGwwOoHMuuHcGwmLVgFg5_lCJ61oGsWRLe7Pjq',\n  'í™ëŒ€': 'https://discord.com/api/webhooks/1324350101044711457/L5VILc7hN-N-Cj-f5e2oGODujy_YiPsGwwOoHMuuHcGwmLVgFg5_lCJ61oGsWRLe7Pjq',\n  'ì†¡íŒŒ': 'https://discord.com/api/webhooks/1324350143335903284/fdhCIvmNy40TlPvVp9Q6pJz51fzjTiVE-j-qI4d1u0_M5fLf8pJezz3zLKqxHg14UXXI',\n  'ì ì‹¤': 'https://discord.com/api/webhooks/1324350143335903284/fdhCIvmNy40TlPvVp9Q6pJz51fzjTiVE-j-qI4d1u0_M5fLf8pJezz3zLKqxHg14UXXI',\n  'ì˜ë“±í¬': 'https://discord.com/api/webhooks/1324350182401593406/9ukxGpDOPTyFCW2eeNlnMN0vLv9UM3kOgAq8V_i_R7KuWvgI2Gy8c3wP0zSn5LX6cNSP',\n  'ì—¬ì˜ë„': 'https://discord.com/api/webhooks/1324350182401593406/9ukxGpDOPTyFCW2eeNlnMN0vLv9UM3kOgAq8V_i_R7KuWvgI2Gy8c3wP0zSn5LX6cNSP',\n  'ì¢…ë¡œ': 'https://discord.com/api/webhooks/1324350224160063529/oLLzN7bWHPzw2gI6oS8BVvLv5o7DJc3UmE5L4K4UrPNfM5L2K7mP3qR8wT9yB2xF6cNS',\n  'ìš©ì‚°': 'https://discord.com/api/webhooks/1324350265859829793/pMMaO8cXIPax3hJ7pT9CVwMw6p8EKd4VnF6M5L5VsQOgN6M3L8nQ4rS9xU0zC3yG7dOT',\n  'ì´íƒœì›': 'https://discord.com/api/webhooks/1324350265859829793/pMMaO8cXIPax3hJ7pT9CVwMw6p8EKd4VnF6M5L5VsQOgN6M3L8nQ4rS9xU0zC3yG7dOT',\n  'ì„±ë¶': 'https://discord.com/api/webhooks/1324350306741493781/qNNbP9dYJQby4iK8qU0DWxNx7q9FLe5WoG7N6M6WtRPhO7N4M9oR5sT0yV1aD4zH8ePU',\n  'ê°•ì„œ': 'https://discord.com/api/webhooks/1324350348399489054/rOOcQ0eZKRcz5jL9rV1EXyOy8r0GMf6XpH8O7N7XuSQiP8O5N0pS6tU1zW2bE5aI9fQV'\n};\n\n// ê¸°íƒ€ì§€ì—­ ì›¹í›…\nconst defaultWebhook = 'https://discord.com/api/webhooks/1324350389759594527/sQQdR1faMSda6kM0sW2FYzPz9s1HNg7YqI9P8O8YvTRjQ9P6O1qT7uV2aX3cF6bJ0gRW';\n\nconst location = $input.first().json.body.location || '';\nlet webhookUrl = defaultWebhook;\n\n// ì§€ì—­ í‚¤ì›Œë“œ ë§¤ì¹­\nfor (const [keyword, url] of Object.entries(webhooks)) {\n  if (location.includes(keyword)) {\n    webhookUrl = url;\n    break;\n  }\n}\n\n// ë©”ì‹œì§€ ìƒì„±\nconst message = {\n  content: `ğŸƒ **ìƒˆë¡œìš´ ìˆ ë˜ì¡ê¸° ëª¨ì„!**\\nğŸ“ ì¥ì†Œ: ${$input.first().json.body.location}\\nğŸ® ê²Œì„: ${$input.first().json.body.gameTypeName}\\nâ° ì‹œê°„: ${$input.first().json.body.meetingTimeFormatted}\\nğŸ‘¥ ì¸ì›: ${$input.first().json.body.maxParticipants}ëª…\\nğŸ”‘ ì½”ë“œ: ${$input.first().json.body.joinCode}`\n};\n\nreturn [{\n  json: {\n    webhookUrl,\n    message\n  }\n}];"
      },
      "id": "code-1",
      "name": "ì§€ì—­ ë§¤í•‘",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [500, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.webhookUrl }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "content",
              "value": "={{ $json.message.content }}"
            }
          ]
        },
        "options": {}
      },
      "id": "http-1",
      "name": "Discord ì „ì†¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [750, 300]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "ì§€ì—­ ë§¤í•‘",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ì§€ì—­ ë§¤í•‘": {
      "main": [
        [
          {
            "node": "Discord ì „ì†¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  }
}
