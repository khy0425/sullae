# 술래 - 야외 전래놀이 모임 플랫폼

> 마지막 업데이트: 2026-01-01

---

## 앱 소개

**술래**는 경찰과 도둑, 얼음땡, 숨바꼭질, 깃발뺏기 같은 **야외 전래놀이**를 함께 즐길 사람을 모으고 게임을 진행할 수 있는 플랫폼입니다.

### 한 줄 요약
> "30초 가입, 분쟁 없는 규칙, 진동으로 알려주는 타이머 - 경찰과 도둑의 재미를 그대로, 불편함은 싹 없앴습니다."

---

## 사용자 플로우

### 1. 회원가입 (30초 완료)
```
소셜 로그인 → 닉네임 입력 → 연령대 선택(선택) → 완료!
     ↓              ↓              ↓
   원터치      2~10자 검증     매칭 도움용
```

### 2. 모임 참여 플로우
```
홈 화면 → 게임 필터링 → 모임 선택 → 참여하기 → 채팅/준비
   ↓           ↓           ↓           ↓
 모임 목록   경찰과도둑    상세정보    참가자 되기
            얼음땡 등
```

### 3. 모임 생성 플로우
```
모임 만들기 → 게임 선택 → 정보 입력 → 생성 완료
                ↓            ↓           ↓
           5가지 선택    장소/시간    자동 참가코드
                         인원 설정    가이드 생성
```

### 4. 게임 진행 플로우
```
게임 시작 → 팀 배정 → 타이머 시작 → 진행 → 종료
    ↓          ↓          ↓         ↓       ↓
 버튼 터치   자동/수동   진동 알림   채팅   MVP 투표
```

---

## 핵심 강점

### 1. 극단적 간결함
| 기존 앱 문제 | 술래 해결책 |
|------------|-----------|
| 복잡한 회원가입 | **30초 회원가입** (소셜 로그인 + 닉네임) |
| 자유 텍스트 분쟁 | **사전 정의 규칙**만 사용 |
| 규칙 논쟁 | **체크박스형 로컬 룰** 선택 |

### 2. 통제된 소통
```
❌ 자유 채팅 (분쟁 유발)
✅ 퀵 메시지 시스템 (10가지 정해진 메시지)

참가자용:
• "지금 도착했어요"
• "5분 늦어요"
• "게임 시작 가능해요"

호스트용:
• "어디쯤이세요?"
• "곧 시작해요"
```

### 3. 진동 언어 시스템
**화면을 보지 않아도 시간을 알 수 있다!**
```
시작:   ━ ━     (짧게 2번)
절반:   ━━━     (길게 1번)
1분전:  ━       (짧게 1번)
종료:   ━━━ ━━━ (길게 2번)
```

### 4. 사회적 인정 시스템
**포인트/레벨 ❌ → 사회적 인정 ✅**
- **MVP 투표**: 게임 종료 후 투표
- **먼저 손든 사람**: 경찰 자원자 표시
- **역할 로테이션 제안**: "2라운드 경찰 하셨는데, 이번엔 도둑 해볼까요?"

### 5. 경찰 기피 현상 해결
```
문제: 경찰 역할 아무도 안 하려 함
해결:
├── 자동 균형 제안: "경찰 1명 부족"
├── 자원자 MVP 보상: 먼저 손들면 인정
└── 강제 로테이션: 2라운드 연속 시 역할 전환 제안
```

### 6. 2단계 후기 수집
```
1단계 (즉시): 감정 캡처 ← 30초면 끝
   "완전 재밌었어 / 괜찮았어 / 별로였어 / 힘들었어"

2단계 (다음날): 상세 피드백 ← 푸시 알림
   - 난이도 피드백
   - 연령대 피드백
   - 재참여 의향
```

---

## 지원 게임 (5가지)

| 게임 | 색상 | 팀 구성 |
|-----|-----|--------|
| 경찰과 도둑 | 오렌지 | 경찰 vs 도둑 |
| 얼음땡 | 민트 | 술래 vs 도망자 |
| 숨바꼭질 | 퍼플 | 술래 vs 숨는이 |
| 깃발뺏기 | 블루 | A팀 vs B팀 |
| 커스텀 | 프라이머리 | 자유 설정 |

---

## 홍보 포인트

### 슬로건 후보
```
1. "경찰과 도둑, 이제 앱으로 모여요"
2. "30초 가입, 10분 게임, 평생 추억"
3. "화면 안 봐도 돼요, 진동으로 알려드릴게요"
4. "분쟁 없는 야외 게임의 시작"
```

### 타겟 사용자
| 타겟 | 소구 포인트 |
|-----|-----------|
| 20대 대학생/직장인 | "주말 피크닉 + 경찰과 도둑 = 완벽" |
| 30대 부모 | "아이들과 함께하는 전래놀이" |
| 동호회/모임 | "MT, 워크샵 레크레이션" |
| 체육 교사 | "체육 수업 게임 진행 도우미" |

### 경쟁 우위
```
vs 일반 모임 앱:
   ✅ 게임에 특화된 타이머, 팀 배정, 규칙 가이드

vs 직접 모임:
   ✅ 규칙 분쟁 해결
   ✅ 역할 배정 자동화
   ✅ 시간 관리 (진동 알림)

vs 온라인 게임:
   ✅ 야외 활동, 운동 효과
   ✅ 대면 소통, 사회성
```

### 주요 기능 요약
| 카테고리 | 기능 |
|---------|-----|
| **인증** | 30초 소셜 로그인 (카카오/구글/애플) |
| **모임** | 생성, 참여, 6자리 참가 코드 |
| **게임** | 5가지 기본 게임 + 커스텀 |
| **팀** | 자동/수동 배정, 균형 체크 |
| **타이머** | 진동 알림, 일시정지/재개 |
| **채팅** | 퀵 메시지 (분쟁 방지) |
| **투표** | MVP, 규칙, 다음 장소 |
| **후기** | 2단계 수집 (즉시 + 다음날) |

---

## 기술 스택

### 아키텍처
```
┌─────────────────────────────────────┐
│           Screens (UI)              │
├─────────────────────────────────────┤
│    Providers (State Management)     │
├─────────────────────────────────────┤
│         Services (Business)         │
├─────────────────────────────────────┤
│           Models (Data)             │
├─────────────────────────────────────┤
│   Firebase (Firestore + RTDB)       │
└─────────────────────────────────────┘
```

### Dependencies
```yaml
Firebase: firebase_core, firebase_auth, cloud_firestore, firebase_database
State: provider
UI: google_fonts, flutter_animate, cached_network_image
Utils: intl, uuid, shared_preferences
```

---

# TODO 리스트

## 🚨 Critical (출시 전 필수)

### 1. 에셋 (Assets)

#### 앱 아이콘
- [ ] **앱 아이콘 디자인** - 현재 없음
  - Android: `android/app/src/main/res/mipmap-*`
  - iOS: `ios/Runner/Assets.xcassets/AppIcon.appiconset`
  - 권장: 1024x1024 원본 → 자동 리사이징

#### 스플래시 스크린
- [ ] **스플래시 이미지** - 현재 없음
  - `flutter_native_splash` 패키지 필요
  - 로고 + 배경색 조합

#### 로고
- [ ] **앱 로고** - 현재 `Icons.directions_run` 사용 중
  - SVG 또는 PNG 형식
  - 다크/라이트 버전

### 2. 소셜 로그인 구현

```dart
// 현재 상태: login_screen.dart:26
// TODO: 실제 소셜 로그인 구현 후 연동
await Future.delayed(const Duration(milliseconds: 500)); // 가짜 딜레이
```

- [ ] **카카오 로그인**
  - `kakao_flutter_sdk` 패키지 추가
  - 카카오 개발자 콘솔 앱 등록
  - Android/iOS 키 해시 등록

- [ ] **Google 로그인**
  - `google_sign_in` 패키지 추가
  - Firebase Console에서 Google 로그인 활성화
  - SHA-1/SHA-256 등록

- [ ] **Apple 로그인**
  - `sign_in_with_apple` 패키지 추가
  - Apple Developer 계정 설정
  - iOS만 지원 (Android는 숨김 처리)

### 3. Firebase 설정

- [ ] **Firebase 프로젝트 생성**
  - `flutterfire configure` 실행
  - `firebase_options.dart` 생성

- [ ] **Firestore 규칙 설정**
  ```
  rules_version = '2';
  service cloud.firestore {
    match /databases/{database}/documents {
      // TODO: 보안 규칙 작성
    }
  }
  ```

- [ ] **Realtime Database 규칙**
  - 채팅용 규칙 설정

---

## 🎨 디자인 에셋

### 캐릭터/마스코트
- [ ] **앱 마스코트 캐릭터** - 현재 없음
  - 가이드 메시지에 사용할 캐릭터
  - GuideMessages 클래스에서 활용 예정
  - 감정 표현 (기쁨, 안내, 경고 등) 버전 필요

### 게임 타입 아이콘
현재 Material Icons 사용 중:
```dart
// app_theme.dart
static const IconData copsAndRobbers = Icons.local_police;  // 커스텀 필요
static const IconData freezeTag = Icons.ac_unit;            // 커스텀 필요
static const IconData hideAndSeek = Icons.visibility_off;   // 커스텀 필요
static const IconData captureFlag = Icons.flag;             // 커스텀 필요
static const IconData custom = Icons.games;                 // 커스텀 필요
```

- [ ] **경찰과 도둑** - 경찰 배지 + 마스크 조합
- [ ] **얼음땡** - 얼음/눈송이 스타일
- [ ] **숨바꼭질** - 숨는 눈 아이콘
- [ ] **깃발뺏기** - 깃발 아이콘
- [ ] **커스텀** - 게임패드 아이콘

### 역할 아이콘
- [ ] **경찰** - 현재 `Icons.shield`
- [ ] **도둑** - 현재 `Icons.masks`
- [ ] **술래** - 현재 `Icons.visibility`
- [ ] **숨는이** - 현재 `Icons.visibility_off`

### 온보딩 이미지
- [ ] **온보딩 화면** - 현재 없음
  - 앱 소개 슬라이드 3~4장
  - 핵심 기능 설명

### 빈 상태 이미지
- [ ] **모임 없음** - 현재 `Icons.event_busy`
- [ ] **내 모임 없음** - 현재 `Icons.event_note`
- [ ] **채팅 없음** - 텍스트만 표시 중

### 소셜 로그인 로고
```dart
// login_screen.dart - 현재 Material Icons 사용
icon: Icons.chat_bubble,    // 카카오 → 실제 카카오 로고 필요
icon: Icons.g_mobiledata,   // Google → 실제 G 로고 필요
icon: Icons.apple,          // Apple → 이건 OK
```

- [ ] **카카오 로고** (PNG/SVG)
- [ ] **Google 로고** (PNG/SVG)

---

## 📱 화면 구현

### 미구현 화면
- [ ] **온보딩 화면** - 첫 실행 시 앱 소개
- [ ] **알림 설정 화면** - 프로필 메뉴에 있지만 빈 화면
- [ ] **도움말 화면** - 프로필 메뉴에 있지만 빈 화면
- [ ] **후기 작성 화면** - 모델만 존재 (`review_model.dart`)
- [ ] **투표 상세 화면** - 투표 생성/결과 확인
- [ ] **게임 가이드 화면** - 규칙 확인 UI
- [ ] **퀵 메시지 선택 화면** - 정해진 메시지 선택 UI
- [ ] **참가 코드 입력 화면** - 6자리 코드로 참여
- [ ] **지도 화면** - 장소 선택/확인

### 부분 구현 화면
- [ ] **게임 화면** - 기본 타이머/팀 배정만 있음
  - 진동 알림 구현
  - 점수 관리
  - 라운드 관리

- [ ] **모임 상세** - 채팅 탭 외 기능 부족
  - 참가자 상세 목록
  - 게임 가이드 탭

---

## 🔧 기능 구현

### 알림 (Push Notification)
- [ ] `firebase_messaging` 패키지 추가
- [ ] FCM 토큰 저장
- [ ] 알림 종류:
  - 모임 시작 알림
  - 새 참가자 알림
  - 채팅 알림
  - 다음날 후기 요청

### 진동 알림 (게임 타이머)
```dart
// game_timer_model.dart에 정의되어 있음
// VibrationPattern - 실제 진동 구현 필요
```
- [ ] `vibration` 패키지 추가
- [ ] 시작/절반/1분전/종료 진동 패턴

### 지도 통합
- [ ] `google_maps_flutter` 패키지 추가
- [ ] 장소 선택 UI
- [ ] 게임 영역 표시 (깃발뺏기용)

### 이미지 업로드
- [ ] `firebase_storage` 패키지 추가
- [ ] 프로필 사진 업로드
- [ ] 이미지 압축

### 딥링크
```dart
// meeting_model.dart
final String? joinLink; // 딥링크 URL - 미구현
```
- [ ] 앱 링크 스킴 설정
- [ ] 참가 코드 → 딥링크 생성

---

## 🌍 다국어 지원

### ARB 파일
- [ ] `lib/l10n/app_ko.arb` - 한국어 (기본)
- [ ] `lib/l10n/app_en.arb` - 영어

### 하드코딩된 텍스트
현재 모든 UI 텍스트가 하드코딩:
```dart
// 예시
Text('게임 시간')  // → AppLocalizations.of(context).gameTime
Text('팀 배정')    // → AppLocalizations.of(context).teamAssignment
```

---

## 🧪 테스트

### 단위 테스트
- [ ] `auth_service_test.dart`
- [ ] `meeting_service_test.dart`
- [ ] `game_service_test.dart`
- [ ] 모델 테스트

### 위젯 테스트
- [ ] 주요 화면 테스트
- [ ] 상호작용 테스트

### 통합 테스트
- [ ] 회원가입 플로우
- [ ] 모임 생성/참여 플로우
- [ ] 게임 진행 플로우

---

## 📦 패키지 추가 필요

```yaml
# pubspec.yaml에 추가 필요
dependencies:
  # 소셜 로그인
  kakao_flutter_sdk: ^latest
  google_sign_in: ^latest
  sign_in_with_apple: ^latest

  # 알림
  firebase_messaging: ^latest
  flutter_local_notifications: ^latest

  # 진동
  vibration: ^latest

  # 지도
  google_maps_flutter: ^latest
  geolocator: ^latest

  # 이미지
  firebase_storage: ^latest
  image_picker: ^latest
  image_cropper: ^latest

  # 스플래시
  flutter_native_splash: ^latest

  # 딥링크
  app_links: ^latest
```

---

## 🏪 스토어 준비

### Google Play
- [ ] 앱 아이콘 (512x512)
- [ ] 기능 그래픽 (1024x500)
- [ ] 스크린샷 (최소 2장)
- [ ] 앱 설명 (짧은/긴)
- [ ] 개인정보 처리방침 URL
- [ ] 콘텐츠 등급 설문

### App Store
- [ ] 앱 아이콘 (1024x1024)
- [ ] 스크린샷 (iPhone, iPad)
- [ ] 앱 설명
- [ ] 개인정보 처리방침 URL
- [ ] 앱 심사 정보

---

## 📋 우선순위 정리

### Phase 1: MVP 출시 (필수)
1. Firebase 설정 완료
2. 소셜 로그인 (카카오만이라도)
3. 앱 아이콘/스플래시
4. 기본 플로우 테스트

### Phase 2: 베타 테스트
1. 푸시 알림
2. 진동 알림
3. 온보딩 화면
4. 빈 상태 이미지

### Phase 3: 정식 출시 (v1.1)

1. 캐릭터/마스코트
2. 커스텀 게임 아이콘
3. 다국어 지원
4. 지도 통합
5. **게임 프리셋 공유**
6. **인기 프리셋 랭킹**

### Phase 4: 업데이트 (v2.0+)

1. 후기 시스템
2. 투표 시스템 UI
3. 친구 초대
4. 게임 기록/통계
5. 커뮤니티 기능

---

## 📊 현재 상태 요약

| 카테고리 | 완료 | 진행중 | 미완료 |
|---------|-----|-------|-------|
| 에셋 | 0% | - | 앱 아이콘, 로고, 캐릭터 |
| 화면 | 70% | 게임 화면 | 온보딩, 알림, 도움말 |
| 기능 | 60% | 채팅 | 소셜 로그인, 푸시, 진동 |
| 테스트 | 0% | - | 전체 |
| 다국어 | 0% | - | 전체 |

---

## 빠른 체크리스트

```
출시 전 필수:
[ ] 앱 아이콘 있음?
[ ] 소셜 로그인 작동함?
[ ] Firebase 연결됨?
[ ] 크래시 없음?
[ ] 개인정보 처리방침 있음?
```

---

*이 문서는 개발 진행에 따라 업데이트됩니다.*
